<%- include('layout') %>

<div class="row">
    <div class="col-md-12">
        <h1 class="mb-4">Blog Posts</h1>
        <% if (posts.length === 0) { %>
            <p>No posts yet. <a href="/new">Create your first post!</a></p>
        <% } else { %>
            <% posts.forEach(post => { %>
                <div class="card mb-4">
                    <div class="card-body">
                        <h2 class="card-title">
                            <a href="/post/<%= post.id %>" class="text-decoration-none"><%= post.title %></a>
                        </h2>
                        <p class="card-text text-muted">
                            Posted on <%= new Date(post.createdAt).toLocaleDateString() %>
                        </p>
                        <p class="card-text">
                            <%= post.content.substring(0, 200) %>...
                        </p>
                        <a href="/post/<%= post.id %>" class="btn btn-primary">Read More</a>
                    </div>
                </div>
            <% }); %>
        <% } %>
    </div>
</div> 